<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>K-Vibe Shop — Корейская мода</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<style>
body{font-family:'Poppins',sans-serif;margin:0;padding:0;background:#fff0f5;color:#333;scroll-behavior:smooth;}
header{background:linear-gradient(90deg,#ffb6c1,#ff9aa2);color:#fff;padding:20px 0;text-align:center;position:sticky;top:0;z-index:1000;box-shadow:0 4px 15px rgba(0,0,0,0.1);}
header h1{margin:0;font-size:32px;cursor:text;}
nav a{color:#fff;margin:0 15px;text-decoration:none;font-weight:600;transition:opacity 0.3s;}
nav a:hover{opacity:0.8;}
.banner{background:#ffe4ec;color:#d6336c;text-align:center;padding:120px 20px;font-size:36px;position:relative;overflow:hidden;}
.banner h1{display:inline-block;padding:20px 40px;border-radius:20px;background:rgba(255,182,193,0.7);animation:fadeIn 2s ease-out;cursor:text;}
@keyframes fadeIn{from{opacity:0;transform:translateY(-20px);}to{opacity:1;transform:translateY(0);}}
.categories{display:flex;flex-wrap:wrap;justify-content:center;margin:50px auto;max-width:1200px;}
.category{background:#fff;border-radius:20px;margin:15px;overflow:hidden;width:250px;text-align:center;cursor:pointer;transition:transform 0.3s,box-shadow 0.3s;}
.category img{width:100%;transition:transform 0.3s;}
.category:hover img{transform:scale(1.05);}
.category h3{padding:15px;font-size:20px;color:#d6336c;cursor:text;}
.products{display:flex;flex-wrap:wrap;justify-content:center;margin:50px auto;max-width:1200px;}
.product{background:#fff;border-radius:20px;margin:15px;width:260px;text-align:center;cursor:pointer;overflow:hidden;box-shadow:0 4px 15px rgba(255,182,193,0.3);transition:transform 0.3s,box-shadow 0.3s;}
.product img{width:100%;border-bottom:1px solid #fddde6;transition:transform 0.3s;}
.product:hover{transform:translateY(-8px);box-shadow:0 12px 25px rgba(255,182,193,0.4);}
.product h3,.product p{cursor:text;}
.product button{background:#ff9aa2;color:#fff;border:none;padding:12px 25px;border-radius:25px;cursor:pointer;margin-bottom:15px;transition:background 0.3s,transform 0.2s;}
.product button:hover{background:#ff6f91;transform:scale(1.05);}
.product-page{display:none;max-width:1000px;margin:50px auto;background:#fff;padding:30px;border-radius:25px;box-shadow:0 8px 20px rgba(255,182,193,0.3);}
.product-page img{width:350px;border-radius:15px;margin-right:20px;transition:transform 0.3s;}
.product-page img:hover{transform:scale(1.05);}
.gallery{display:flex;margin-top:15px;}
.gallery img{width:70px;margin-right:10px;cursor:pointer;border:2px solid #ddd;border-radius:10px;transition:border 0.3s;}
.gallery img.active{border-color:#ff9aa2;}
.cart{max-width:700px;margin:50px auto;background:#fff;padding:30px;border-radius:25px;border:1px solid #fddde6;}
.cart-item{display:flex;justify-content:space-between;margin-bottom:15px;}
.checkout{display:flex;flex-direction:column;margin-top:20px;}
.checkout input{margin-bottom:15px;padding:15px;border-radius:15px;border:1px solid #fcbad3;}
.checkout button{padding:15px;border-radius:25px;background:#ff9aa2;color:#fff;border:none;cursor:pointer;transition:background 0.3s,transform 0.2s;}
.checkout button:hover{background:#ff6f91;transform:scale(1.05);}
.contact-form{max-width:500px;margin:50px auto;display:flex;flex-direction:column;}
.contact-form input,.contact-form textarea{padding:15px;border-radius:15px;border:1px solid #fcbad3;margin-bottom:15px;}
.contact-form button{padding:15px;border-radius:25px;background:#ff9aa2;color:#fff;border:none;cursor:pointer;transition:background 0.3s,transform 0.2s;}
.contact-form button:hover{background:#ff6f91;transform:scale(1.05);}
footer{background:#ff9aa2;color:#fff;text-align:center;padding:20px;margin-top:50px;border-radius:25px 25px 0 0;cursor:text;}
input[type="file"]{margin-bottom:10px;}
.add-section{max-width:1200px;margin:20px auto;padding:20px;background:#fff;border-radius:25px;box-shadow:0 4px 15px rgba(255,182,193,0.3);}
.add-section h3{margin-bottom:15px;}
.add-section input, .add-section select{margin-bottom:10px;padding:10px;border-radius:10px;border:1px solid #fcbad3;}
.add-section button{padding:10px 20px;background:#ff9aa2;color:#fff;border:none;border-radius:20px;cursor:pointer;transition:background 0.3s;}
.add-section button:hover{background:#ff6f91;}
</style>
</head>
<body>

<header>
<h1 id="header-title" contenteditable="true">K-Vibe Shop</h1>
<nav>
<a href="#categories">Категории</a>
<a href="#products">Товары</a>
<a href="#cart">Корзина</a>
<a href="#contact">Контакты</a>
</nav>
</header>

<div class="banner">
<h1 id="banner-text" contenteditable="true">Нежная корейская мода ✨ с доставкой в Россию!</h1>
</div>

<!-- Добавление категорий -->
<div class="add-section">
<h3>Добавить категорию</h3>
<input type="text" id="new-cat-name" placeholder="Название категории">
<input type="file" id="new-cat-img">
<button onclick="addCategory()">Добавить категорию</button>
</div>

<section id="categories" class="categories"></section>

<!-- Добавление товаров -->
<div class="add-section">
<h3>Добавить товар</h3>
<input type="text" id="new-prod-name" placeholder="Название товара">
<input type="number" id="new-prod-price" placeholder="Цена">
<input type="text" id="new-prod-desc" placeholder="Описание">
<select id="new-prod-cat"></select>
<input type="file" id="new-prod-img">
<button onclick="addProduct()">Добавить товар</button>
</div>

<section id="products">
<h2 style="text-align:center;">Каталог товаров</h2>
<select id="filter" onchange="filterCategory(this.value)" style="margin-bottom:20px;padding:10px;border-radius:15px;">
<option value="all">Все</option>
</select>
<div class="products" id="products-list"></div>
</section>

<section id="cart">
<h2 style="text-align:center;">Корзина</h2>
<div class="cart" id="cart-items">Пока корзина пуста.</div>
<div class="checkout" id="checkout-form" style="display:none;">
<input type="text" id="customer-name" placeholder="Ваше имя" required>
<input type="email" id="customer-email" placeholder="Ваш email" required>
<input type="text" id="customer-address" placeholder="Адрес доставки" required>
<div id="paypal-button-container"></div>
</div>
</section>

<section id="product-page" class="product-page">
<button onclick="closeProduct()" style="margin-bottom:20px;">← Назад</button>
<div style="display:flex; flex-wrap:wrap;">
<div>
<img id="main-product-img" src="" alt="">
<div class="gallery" id="product-gallery"></div>
</div>
<div style="flex:1; margin-left:20px;">
<h2 id="product-name"></h2>
<p id="product-price"></p>
<p id="product-desc"></p>
<button id="add-to-cart-btn">Добавить в корзину</button>
</div>
</div>
</section>

<section id="contact">
<h2 style="text-align:center;">Свяжитесь с нами</h2>
<form class="contact-form" onsubmit="sendMessage(event)">
<input type="text" id="contact-name" placeholder="Ваше имя" required>
<input type="email" id="contact-email" placeholder="Ваш email" required>
<textarea id="contact-message" rows="5" placeholder="Сообщение" required></textarea>
<button type="submit">Отправить</button>
</form>
</section>

<footer id="footer-text" contenteditable="true">
© 2025 K-Vibe Shop. Все права защищены.
</footer>

<script src="https://www.paypal.com/sdk/js?client-id=YOUR_PAYPAL_CLIENT_ID&currency=RUB"></script>
<script>
let categories = JSON.parse(localStorage.getItem('categories')||'[]');
let products = JSON.parse(localStorage.getItem('products')||'[]');
let cart = [];
let currentProduct = null;

function saveData(){
localStorage.setItem('categories',JSON.stringify(categories));
localStorage.setItem('products',JSON.stringify(products));
renderCategories();
renderProducts();
populateFilter();
}

function renderCategories(){
const container = document.getElementById('categories'); container.innerHTML='';
categories.forEach(cat=>{
const div=document.createElement('div'); div.className='category';
const img=document.createElement('img'); img.src=cat.img; div.appendChild(img);
const name=document.createElement('h3'); name.innerText=cat.name; name.setAttribute('contenteditable','true');
name.addEventListener('input',()=>{cat.name=name.innerText; saveData();});
div.appendChild(name); container.appendChild(div);
});
}

function renderProducts(){
const container = document.getElementById('products-list'); container.innerHTML='';
products.forEach(p=>{
const div=document.createElement('div'); div.className='product'; div.dataset.category=p.category;
const img=document.createElement('img'); img.src=p.img; div.appendChild(img);
const name=document.createElement('h3'); name.innerText=p.name; name.setAttribute('contenteditable','true'); name.addEventListener('input',()=>{p.name=name.innerText; saveData();}); div.appendChild(name);
const price=document.createElement('p'); price.innerText='Цена: '+p.price+'₽'; price.setAttribute('contenteditable','true'); price.addEventListener('input',()=>{p.price=price.innerText.replace(/\D/g,''); saveData();}); div.appendChild(price);
const desc=document.createElement('p'); desc.innerText=p.desc; desc.setAttribute('contenteditable','true'); desc.addEventListener('input',()=>{p.desc=desc.innerText; saveData();}); div.appendChild(desc);
const btn=document.createElement('button'); btn.innerText='Подробнее'; btn.onclick=()=>openProduct(p.name,p.price,p.desc,[p.img]); div.appendChild(btn);
container.appendChild(div);
});
}

function populateFilter(){
const filter=document.getElementById('filter'); const select=document.getElementById('new-prod-cat');
filter.innerHTML='<option value="all">Все</option>'; select.innerHTML='';
categories.forEach(c=>{ filter.innerHTML+='<option value="'+c.name+'">'+c.name+'</option>'; select.innerHTML+='<option value="'+c.name+'">'+c.name+'</option>';});
}

function addCategory(){
const name=document.getElementById('new-cat-name').value; const file=document.getElementById('new-cat-img').files[0]; if(!name||!file){alert('Введите имя и выберите картинку'); return;}
const reader=new FileReader(); reader.onload=()=>{categories.push({name,img:reader.result}); saveData();}; reader.readAsDataURL(file);
}

function addProduct(){
const name=document.getElementById('new-prod-name').value; const price=document.getElementById('new-prod-price').value; const desc=document.getElementById('new-prod-desc').value; const cat=document.getElementById('new-prod-cat').value; const file=document.getElementById('new-prod-img').files[0]; if(!name||!price||!desc||!cat||!file){alert('Заполните все поля'); return;}
const reader=new FileReader(); reader.onload=()=>{products.push({name,price,desc,category:cat,img:reader.result}); saveData();}; reader.readAsDataURL(file);
}

function filterCategory(category){
document.querySelectorAll('.product').forEach(p=>{p.style.display=(category==='all'||p.dataset.category===category)?'block':'none';});
}

function openProduct(name,price,desc,images){
currentProduct={name,price};
document.getElementById('product-page').style.display='block'; document.getElementById('products-list').style.display='none';
document.getElementById('product-name').innerText=name; document.getElementById('product-price').innerText='Цена: '+price+'₽'; document.getElementById('product-desc').innerText=desc;
const mainImg=document.getElementById('main-product-img'); mainImg.src=images[0]; const gallery=document.getElementById('product-gallery'); gallery.innerHTML='';
images.forEach((img,i)=>{const thumb=document.createElement('img'); thumb.src=img; if(i===0) thumb.classList.add('active'); thumb.onclick=()=>{mainImg.src=img; gallery.querySelectorAll('img').forEach(x=>x.classList.remove('active')); thumb.classList.add('active');}; gallery.appendChild(thumb);});
document.getElementById('add-to-cart-btn').onclick=()=>addToCart(name,price);
}

function closeProduct(){document.getElementById('product-page').style.display='none';document.getElementById('products-list').style.display='flex';}

function addToCart(name,price){cart.push({name,price}); renderCart();}
function renderCart(){const cartDiv=document.getElementById('cart-items'); if(cart.length===0){cartDiv.innerHTML='Пока корзина пуста.'; document.getElementById('checkout-form').style.display='none'; return;} cartDiv.innerHTML=''; cart.forEach((item,index)=>{const div=document.createElement('div'); div.className='cart-item'; div.innerHTML=`<span>${item.name} - ${item.price}₽</span><button onclick="removeFromCart(${index})">Удалить</button>`; cartDiv.appendChild(div);}); document.getElementById('checkout-form').style.display='flex';}
function removeFromCart(index){cart.splice(index,1); renderCart();}

paypal.Buttons({
createOrder:function(data,actions){
const total=cart.reduce((sum,item)=>sum+Number(item.price),0);
return actions.order.create({purchase_units:[{amount:{value:total}}]});
},
onApprove:function(data,actions){
return actions.order.capture().then(details=>{
alert('Спасибо за покупку, '+details.payer.name.given_name+'!');
cart=[]; renderCart();
});
}
}).render('#paypal-button-container');

function sendMessage(e){e.preventDefault(); const name=document.getElementById('contact-name').value; const email=document.getElementById('contact-email').value; const message=document.getElementById('contact-message').value; alert(`Сообщение отправлено!\nИмя: ${name}\nEmail: ${email}\nСообщение: ${message}`); document.querySelector('.contact-form').reset();}

document.addEventListener('DOMContentLoaded',()=>{renderCategories(); renderProducts(); populateFilter();});
</script>

</body>
</html>
